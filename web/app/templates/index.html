<!--
# @name: index.html
# @version: 0.1
# @creation_date: 2022-06-07
# @license: The MIT License <https://opensource.org/licenses/MIT>
# @author: Simon Bowie <simon.bowie.19@gmail.com>
# @purpose: Basic layout for homepage
# @acknowledgements:
# https://www.digitalocean.com/community/tutorials/how-to-make-a-web-application-using-flask-in-python-3
# Bootstrap 5.1.3: https://getbootstrap.com/
-->

{% extends "base.html" %}

{% block content %}
  <div class="container">
    <div class="row">

      <canvas id="carbonGraph" width="600" height="300"></canvas>
      <canvas id="carbonGraphYear" width="600" height="300"></canvas>
      <script>
        var labels = [
          'January 2022',
          'February 2022',
          'March 2022',
          'April 2022',
          'May 2022',
          'June 2022',
          'July 2022',
        ];
        var data = {
          labels: labels,
          datasets: [
            {
              label: 'car',
              data: [0.0010773271,0.0090694581,0.0193481773,0,0,0,0.0317431034],
              backgroundColor: 'rgb(255, 170, 66)',
            },
            {
              label: 'bus',
              data: [0,0,0,0,0.0007406442,0,0.0024688142],
              backgroundColor: 'rgb(86, 92, 81)',
            },
            {
              label: 'light rail and tram',
              data: [],
              backgroundColor: 'rgb(50, 168, 82)',
            },
            {
              label: 'national rail',
              data: [0.0361541865,0,0.0376391926,0.0570585029,0.0657400770,0.0365539959,0.0475201946],
              backgroundColor: 'rgb(75, 121, 196)',
            },
            {
              label: 'international rail',
              data: [0,0,0,0,0.0020887032],
              backgroundColor: 'rgb(151, 64, 201)',
            },
          ]
        };

        var config = {
          type: 'bar',
          data: data,
          options: {
            plugins: {
              title: {
                display: false,
                text: 'Chart.js Bar Chart - Stacked'
              },
            },
            responsive: true,
            scales: {
              x: {
                title: {
                  display: true,
                  text: 'month'
                },
                stacked: true,
              },
              y: {
                title: {
                  display: true,
                  text: 'metric tonnes (Mg) of carbon'
                },
                stacked: true
              }
            }
          }
        };

        var carbonGraph = new Chart(
          document.getElementById('carbonGraph'),
          config
        );
      </script>

      <script>
        var labels = [
          '2022',
        ];
        var data = {
          labels: labels,
          datasets: [
            {
              label: 'car',
              data: [0.061238066],
              backgroundColor: 'rgb(255, 170, 66)',
            },
            {
              label: 'bus',
              data: [0.003209458],
              backgroundColor: 'rgb(86, 92, 81)',
            },
            {
              label: 'light rail and tram',
              data: [0],
              backgroundColor: 'rgb(50, 168, 82)',
            },
            {
              label: 'national rail',
              data: [0.28066615],
              backgroundColor: 'rgb(75, 121, 196)',
            },
            {
              label: 'international rail',
              data: [0.002088703],
              backgroundColor: 'rgb(151, 64, 201)',
            },
          ]
        };

        var config = {
          type: 'bar',
          data: data,
          options: {
            plugins: {
              title: {
                display: false,
                text: 'Chart.js Bar Chart - Stacked'
              },
            },
            responsive: true,
            scales: {
              x: {
                title: {
                  display: true,
                  text: 'year'
                },
                stacked: true,
              },
              y: {
                title: {
                  display: true,
                  text: 'metric tonnes (Mg) of carbon'
                },
                stacked: true
              }
            }
          }
        };

        var carbonGraphYear = new Chart(
          document.getElementById('carbonGraphYear'),
          config
        );
      </script>

    </div>
  </div>
{% endblock %}
